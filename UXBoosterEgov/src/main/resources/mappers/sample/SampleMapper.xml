<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--
* 메인 관련
*
* @filename mappers/sample/SampleMapper.xml
* @author takeit
* @since 2019.10.31
* @version 1.0
* @see
*
* << 변경 이력(Modification Information) >>
*
* 변경번호 : #1
* 변경일자 : 2019.10.31
* 변경사람 : takeit
* 변경내용 : 신규 생성
 -->
<mapper namespace="Sample">
	<select id="sampleTableSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.sampleTableSelect
		* 샘플 목록 조회
		* @author takeit
		* @since 2020.07.08
		*/
		]]>
		SELECT SEQ
			  ,TITLE
			  ,CONTENTS
			  ,TYPE
			  ,REG_CD
			  ,REG_DT
			  ,MOD_CD
			  ,MOD_DT
		FROM SAMPLE_DATA001
		WHERE 1=1
		<if test="TITLE != null and TITLE != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND TITLE = ('%' || #{TITLE} || '%')
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND TITLE = CONCAT('%', #{TITLE}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test="TYPE != null and TYPE != '' ">
			AND TYPE = #{TYPE}
		</if>
	</select>

	<insert id="sampleTableInsert" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sampleTableInsert
		* 샘플 목록 추가
		* @author takeit
		* @since 2020.07.08
		*/
		]]>
		<selectKey keyProperty="SEQ" resultType="String" order="BEFORE">
			<if test="_databaseId == 'Oracle'">
		    SELECT  (LPAD(TO_NUMBER(NVL(MAX(SEQ), '0')) + 1, 3, '000')) AS SEQ
			FROM SAMPLE_DATA001
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
			SELECT LPAD((COALESCE(MAX(SEQ), '0') + 1), 3, '000') AS SEQ
			FROM SAMPLE_DATA001
		    </if>
		</selectKey>
		INSERT INTO SAMPLE_DATA001
		(
			SEQ
			,TITLE
			,CONTENTS
			,TYPE
			,REG_CD
			,REG_DT
		)VALUES
		(
			#{SEQ}
			, #{TITLE}
			, #{CONTENTS}
			, #{TYPE}
			, #{_sessionUserCd}
			, <include refid="CommonInc.sysdate" />
		)

	</insert>

	<update id="sampleTableUpdate" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sampleTableUpdate
		* 샘플 목록 변경
		* @author takeit
		* @since 2020.07.08
		*/
		]]>
			UPDATE SAMPLE_DATA001
			SET
				TITLE		= #{TITLE}
				, CONTENTS 	= #{CONTENTS}
				, TYPE 		= #{TYPE}
				, MOD_CD 	= #{_sessionUserCd}
				, MOD_DT 	= <include refid="CommonInc.sysdate" />
			WHERE SEQ = #{SEQ}
	</update>

	<delete id="sampleTableDelete" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sampleTableDelete
		* 샘플 목록 삭제
		* @author takeit
		* @since 2020.07.08
		*/
		]]>
			DELETE FROM SAMPLE_DATA001
			WHERE SEQ = #{SEQ}
	</delete>

	<!-- Sample01 -->
	<select id="sample01Select" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.sample01Select
		* 샘플 목록 조회
		* @author takeit
		* @since 2019.10.31
		*/
		]]>
		SELECT key
			, col1
			, col2
			, col3
			, col4
			, col5
			, col6
			, col7
			, col8
			, col9
			, col10
			, use_yn
			, reg_cd
			, reg_dt
		FROM _sample_data01
		WHERE 1 = 1
		<if test=" key != null and key != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND key LIKE ('%' || #{key} || '%')
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND key LIKE CONCAT('%', #{key}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test=" col1 != null and col1 != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND col1 LIKE ('%' || #{col1} || '%')
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND col1 LIKE CONCAT('%', #{col1}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test=" use_yn != null and use_yn != '' ">
			AND use_yn = #{use_yn}
		</if>
	</select>

	<select id="sample01DetailSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.sample01DetailSelect
		* 샘플 상세 조회
		* @author takeit
		* @since 2019.10.31
		*/
		]]>
		SELECT key
			, col1
			, col2
			, col3
			, col4
			, col5
			, col6
			, col7
			, col8
			, col9
			, col10
			, use_yn
			, reg_cd
			, reg_dt
		FROM _sample_data01
		WHERE key = #{sKey}
	</select>

	<insert id="sample01Insert" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sample01Insert
		* 샘플정보 입력
		* @author takeit
		* @since 2019.10.31
		*/
		]]>
		<selectKey keyProperty="maxKey" resultType="String" order="BEFORE">
			<if test="_databaseId == 'Oracle'">
		    SELECT ('S' || LPAD(CAST((COALESCE(MAX(SUBSTR(key, 2, 9)), '0')::INT + 1) AS TEXT), 9, '000000000')) AS maxKey
			FROM _sample_data01
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			SELECT CONCAT('S' , LPAD((COALESCE(MAX(SUBSTR(key, 2, 9)), '0') + 1), 9, '000000000')) AS maxKey
			FROM _sample_data01
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</selectKey>
		INSERT INTO _sample_data01 (
			key
			, col1
			, col2
			, col3
			, col4
			, col5
			, col6
			, col7
			, col8
			, col9
			, col10
			, use_yn
			, reg_cd
			, reg_dt
		)
		VALUES (
			#{maxKey}
			, #{col1}
			, #{col2}
			, #{col3}
			, #{col4}
			, #{col5}
			, #{col6}
			, #{col7}
			, #{col8}
			, #{col9}
			, #{col10}
			, #{use_yn}
			, #{_sessionUserCd}
			, now()
		)
	</insert>

	<update id="sample01Update" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sample01Update
		* 샘플정보 수정
		* @author takeit
		* @since 2019.10.31
		*/
		]]>
		UPDATE _sample_data01
		SET
			col1 = #{col1}
			, col2 = #{col2}
			, col3 = #{col3}
			, col4 = #{col4}
			, col5 = #{col5}
			, col6 = #{col6}
			, col7 = #{col7}
			, col8 = #{col8}
			, col9 = #{col9}
			, col10 = #{col10}
			, use_yn = #{use_yn}
			, mod_dt = <include refid="CommonInc.sysdate" />
			, mod_cd = #{_sessionUserCd}
		WHERE key = #{key}
	</update>

	<delete id="sample01Delete" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sample01Delete
		* 샘플정보 삭제
		* @author takeit
		* @since 2019.10.31
		*/
		]]>
		DELETE FROM _sample_data01
		WHERE key = #{key}
	</delete>
	<!-- Sample01 -->

	<!-- Sample02 -->
	<select id="sample02Select" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.sample02Select
		* 샘플2 목록 조회
		* @author takeit
		* @since 2019.11.04
		*/
		]]>
		SELECT key
			, col1
			, col2
			, col3
			, col4
			, chk1
			, use_yn
			, reg_cd
			, reg_dt
		FROM _sample_data02
		WHERE 1 = 1
		<if test=" key != null and key != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND key LIKE ('%' || #{key} || '%')
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND key LIKE CONCAT('%', #{key}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test=" col1 != null and col1 != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND col1 LIKE ('%' || #{col1} || '%')
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND col1 LIKE CONCAT('%', #{col1}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test=" use_yn != null and use_yn != '' ">
			AND use_yn = #{use_yn}
		</if>
	</select>

	<select id="sample02DetailSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.sample02DetailSelect
		* 샘플2 상세 조회
		* @author takeit
		* @since 2019.11.04
		*/
		]]>
		SELECT key
			, col1
			, col2
			, col3
			, col4
			, chk1
			, use_yn
			, reg_cd
			, reg_dt
		FROM _sample_data02
		WHERE key = #{sKey}
	</select>

	<insert id="sample02Insert" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sample02Insert
		* 샘플2정보 입력
		* @author takeit
		* @since 2019.11.04
		*/
		]]>
		<selectKey keyProperty="maxKey" resultType="String" order="BEFORE">
			<if test="_databaseId == 'Oracle'">
		    SELECT ('S' || LPAD(CAST((COALESCE(MAX(SUBSTR(key, 2, 9)), '0')::INT + 1) AS TEXT), 9, '000000000')) AS maxKey
			FROM _sample_data02
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			SELECT CONCAT('S' , LPAD((COALESCE(MAX(SUBSTR(key, 2, 9)), '0') + 1), 9, '000000000')) AS maxKey
			FROM _sample_data02
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</selectKey>
		INSERT INTO _sample_data02 (
			key
			, col1
			, col2
			, col3
			, col4
			, chk1
			, use_yn
			, reg_cd
			, reg_dt
		)
		VALUES (
			#{maxKey}
			, #{col1}
			, #{col2}
			, #{col3}
			, #{col4}
			, #{chk1}
			, #{use_yn}
			, #{_sessionUserCd}
			, <include refid="CommonInc.sysdate" />
		)
	</insert>

	<update id="sample02Update" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sample02Update
		* 샘플2정보 수정
		* @author takeit
		* @since 2019.11.04
		*/
		]]>
		UPDATE _sample_data02
		SET
			col1 = #{col1}
			, col2 = #{col2}
			, col3 = #{col3}
			, col4 = #{col4}
			, chk1 = #{chk1}
			, use_yn = #{use_yn}
			, mod_dt = <include refid="CommonInc.sysdate" />
			, mod_cd = #{_sessionUserCd}
		WHERE key = #{key}
	</update>

	<delete id="sample02Delete" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sample02Delete
		* 샘플2정보 삭제 - 실제로 삭제하지 않음
		* @author takeit
		* @since 2019.11.04
		*/
		]]>
		UPDATE _sample_data02
		SET
			use_yn = 'N'
			, mod_dt = <include refid="CommonInc.sysdate" />
			, mod_cd = #{_sessionUserCd}
		WHERE key = #{key}
	</delete>

	<select id="sample02SubSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.sample02SubSelect
		* 샘플2 서브 목록 조회
		* @author takeit
		* @since 2019.11.04
		*/
		]]>
		SELECT '0' AS chk
			, key
			, seq
			, col1
			, col2
			, reg_cd
			, reg_dt
		FROM _sample_data02_sub
		WHERE key  = #{sKey}
	</select>

	<insert id="sample02SubInsert" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sample02SubInsert
		* 샘플2 서브 정보 입력
		* @author takeit
		* @since 2019.11.04
		*/
		]]>
		<selectKey keyProperty="maxSeq" resultType="String" order="BEFORE">
			<if test="_databaseId == 'Oracle'">
		    SELECT (LPAD(CAST((COALESCE(MAX(SUBSTR(seq, 1, 10)), '0')::INT + 1) AS TEXT), 10, '0000000000')) AS maxSeq
			FROM _sample_data02_sub
			WHERE key = #{key}
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
			SELECT LPAD((COALESCE(MAX(seq), '0') + 1), 10, '0000000000') AS SEQ
			FROM _sample_data02_sub
			WHERE key = #{key}
		    </if>
		</selectKey>
		INSERT INTO _sample_data02_sub (
			key
			, seq
			, col1
			, col2
			, reg_cd
			, reg_dt
		)
		VALUES (
			#{key}
			, #{maxSeq}
			, #{col1}
			, #{col2}
			, #{_sessionUserCd}
			, <include refid="CommonInc.sysdate" />
		)
	</insert>

	<update id="sample02SubUpdate" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sample02SubUpdate
		* 샘플2 서브 정보 수정
		* @author takeit
		* @since 2019.11.04
		*/
		]]>
		UPDATE _sample_data02_sub
		SET
			col1 = #{col1}
			, col2 = #{col2}
			, mod_dt = <include refid="CommonInc.sysdate" />
			, mod_cd = #{_sessionUserCd}
		WHERE key = #{key}
			AND seq = #{seq}
	</update>

	<delete id="sample02SubDelete" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sample02SubDelete
		* 샘플2 서브 정보 삭제 - 실제로 삭제
		* @author takeit
		* @since 2019.11.04
		*/
		]]>
		DELETE FROM _sample_data02_sub
		WHERE key = #{key}
			AND seq = #{seq}
	</delete>
	<!-- Sample02 -->

	<select id="sampleTranSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		* Sample.sampleTranSelect / 샘플 목록 조회
		*/
		]]>
		SELECT key
			, col1
			, col2
			, col3
			, col4
			, col5
			, col6
			, col7
			, col8
			, col9
			, col10
			, use_yn
			, reg_cd
			, reg_dt
		FROM _sample_data01
	</select>

	<delete id="sampleTranDelete" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sampleTranDelete 삭제
		*/
		]]>
		DELETE FROM _sample_data01
		WHERE key = #{key}
	</delete>

	<insert id="sampleTranInsert" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sampleTranInsert / 입력
		*/
		]]>
		<selectKey keyProperty="maxKey" resultType="String" order="BEFORE">
			<if test="_databaseId == 'Oracle'">
		    SELECT ('S' || LPAD(CAST((COALESCE(MAX(SUBSTR(key, 2, 9)), '0')::INT + 1) AS TEXT), 9, '000000000')) AS maxKey
			FROM _sample_data01
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			SELECT CONCAT('S' , LPAD((COALESCE(MAX(SUBSTR(key, 2, 9)), '0') + 1), 9, '000000000')) AS maxKey
			FROM _sample_data01
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</selectKey>
		INSERT INTO _sample_data01 (
			key
			, col1
			, col2
			, col3
		)
		VALUES (
			#{maxKey}
			, #{col1}
			, #{col2}
			, #{col3}
		)
	</insert>

	<update id="sampleTranUpdate" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.sampleTranUpdate  / 수정
		*/
		]]>
		UPDATE _sample_data01
		SET
			col1 = #{col1}
			, col2 = #{col2}
			, col3 = #{col3}
		WHERE key = #{key}
	</update>

	<!-- 2020.08.24 ADD -->
	<!-- smpForm01 start -->
	<select id="smpForm01Select" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm01Select
		* 샘플 목록 조회
		* @author ycjeon
		* @since 2020.08.24
		*/
		]]>
		SELECT USER_CD
			, USER_ID
			, USER_NM
			, USER_BIRTHDAY
			, USER_EMAIL
			, USER_MOBILE
			, USER_TEL
			, USER_FAX
			, POST_CD
			<if test="_databaseId == 'Oracle'">
		    , USER_ADDR1 || ' ' || USER_ADDR2 AS USER_ADDR
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			, CONCAT(USER_ADDR1, ' ', USER_ADDR2) AS USER_ADDR
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
			, DEPT_CD
			, USER_STATUS
			, USE_YN
			, AGREE_YN
			, LAST_LOGIN_DT
			, PW_CHANGE_DT
			<if test="_databaseId == 'Oracle'">
		    , LOGIN_DEVICE || ' ' || LOGIN_BROWSER AS LOGIN_BROWSER
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			, CONCAT(LOGIN_DEVICE, ' ', LOGIN_BROWSER) AS LOGIN_BROWSER
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
			, LOGIN_IP
			, JOIN_DATE
			, VALID_START_DATE
			, VALID_END_DATE
			, '0' AS CHK
		FROM TB_SMP01
		WHERE 1 = 1
		<if test=" sDeptCd != null and sDeptCd != '' ">
			AND DEPT_CD = #{sDeptCd}
		</if>
		<if test=" sUserId != null and sUserId != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND USER_ID LIKE ('%' || #{sUserId} || '%')
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND USER_ID LIKE CONCAT('%', #{sUserId}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test=" sUseYn != null and sUseYn != '' ">
			AND , <include refid="CommonInc.nvl">
		     	<property name="arg1" value="USE_YN"/>
		     	<property name="arg2" value="'N'"/>
		     </include> = #{sUseYn}
		</if>
		ORDER BY USER_CD
	</select>

	<select id="smpForm01JoinSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm01JoinSelect
		* 샘플 목록 조회
		* @author ycjeon
		* @since 2020.08.24
		*/
		]]>
		SELECT T.USER_CD
			, T.USER_ID
			, T.USER_NM
			, T.USER_BIRTHDAY
			, T.USER_EMAIL
			, T.USER_MOBILE
			, T.USER_TEL
			, T.USER_FAX
			, T.POST_CD
			<if test="_databaseId == 'Oracle'">
		    , T.USER_ADDR1 || ' ' || T.USER_ADDR2 AS USER_ADDR
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			, CONCAT(T.USER_ADDR1, ' ', T.USER_ADDR2) AS USER_ADDR
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
			, CASE WHEN D.DEPT_CD IS NULL THEN ''
            	ELSE D.DEPT_CD END DEPT_CD              -- 부서코드
         	, CASE WHEN D.DEPT_NM IS NULL THEN ''
              	ELSE D.DEPT_NM END DEPT_NM              -- 부서명
			, T.USER_STATUS
			, C1.CODE_NM AS USER_STATUS_NM
			, T.USE_YN
			, C2.CODE_NM AS USE_YN_NM
			, T.AGREE_YN
			, T.LOGIN_IP
			, T.JOIN_DATE
			, T.VALID_START_DATE
			, T.VALID_END_DATE
			<if test="_databaseId == 'Oracle'">
		    , TO_CHAR(T.LAST_LOGIN_DT, 'YYYY-MM-DD HH24:MI') AS LAST_LOGIN_DT
			, TO_CHAR(T.PW_CHANGE_DT, 'YYYY-MM-DD HH24:MI') AS PW_CHANGE_DT
			, T.LOGIN_DEVICE || ' ' || T.LOGIN_BROWSER AS LOGIN_BROWSER
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			, DATE_FORMAT(T.LAST_LOGIN_DT, '%Y-%m-%d %H:%i') AS LAST_LOGIN_DT
			, DATE_FORMAT(T.PW_CHANGE_DT, '%Y-%m-%d %H:%i') AS PW_CHANGE_DT
			, CONCAT(T.LOGIN_DEVICE, ' ', T.LOGIN_BROWSER) AS LOGIN_BROWSER
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		FROM TB_SMP01 T
			LEFT OUTER JOIN CODE_INFO C1 ON C1.GROUP_ID = '00017' AND C1.CODE_ID = T.USER_STATUS
			LEFT OUTER JOIN CODE_INFO C2 ON C2.GROUP_ID = '00009' AND C2.CODE_ID = T.USE_YN
			LEFT OUTER JOIN DEPT_INFO D ON T.DEPT_CD = D.DEPT_CD
		WHERE 1 = 1
		<if test=" sDeptCd != null and sDeptCd != '' ">
			AND T.DEPT_CD = #{sDeptCd}
		</if>
		<if test=" sUserId != null and sUserId != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND T.USER_ID LIKE ('%' || #{sUserId} || '%')
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND T.USER_ID LIKE CONCAT('%', #{sUserId}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test=" sUseYn != null and sUseYn != '' ">
			AND <include refid="CommonInc.nvl">
			     	<property name="arg1" value="T.USE_YN"/>
			     	<property name="arg2" value="'N'"/>
			     </include> = #{sUseYn}
		</if>
		ORDER BY T.USER_CD
	</select>

	<select id="smpForm01DeptSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm01DeptSelect
		* 샘플 목록 조회
		* @author ycjeon
		* @since 2020.08.24
		*/
		]]>
		SELECT '' AS CODE
		     , '전체' AS NAME
		<include refid="CommonInc.dual" />
		UNION ALL
		SELECT DEPT_CD AS CODE
			, DEPT_NM AS NAME
		FROM DEPT_INFO
		WHERE PARENT_DEPT = '0'
	</select>

	<insert id="smpForm01Insert" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm01Insert
		* 샘플 정보 입력
		* @author ycjeon
		* @since 2020.08.24
		*/
		]]>
		<selectKey keyProperty="USER_CD" resultType="String" order="BEFORE">
			<if test="_databaseId == 'Oracle'">
		    SELECT ('U' || LPAD(TO_NUMBER(NVL(MAX(SUBSTR(USER_CD, 2, 9)), '0') + 1), 9, '0')) AS USER_CD
			FROM TB_SMP01
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			SELECT CONCAT('U' , LPAD((COALESCE(MAX(SUBSTR(USER_CD, 2, 9)), '0') + 1), 9, '000000000')) AS USER_CD
			FROM TB_SMP01
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</selectKey>
		INSERT INTO TB_SMP01 (
			USER_CD
			, USER_ID
			, USER_NM
			, USER_PW
			, USER_BIRTHDAY
			, USER_EMAIL
			, USER_MOBILE
			, USER_TEL
			, USER_FAX
			, POST_CD
			, USER_ADDR1
			, DEPT_CD
			, USER_STATUS
			, USE_YN
			, AGREE_YN
			, LAST_LOGIN_DT
			, PW_CHANGE_DT
			, LOGIN_BROWSER
			, LOGIN_IP
			, JOIN_DATE
		)
		VALUES (
			#{USER_CD}
			, #{USER_ID}
			, #{USER_NM}
			, '123456'
			, #{USER_BIRTHDAY}
			, #{USER_EMAIL}
			, #{USER_MOBILE}
			, #{USER_TEL}
			, #{USER_FAX}
			, #{POST_CD}
			, #{USER_ADDR}
			, #{DEPT_CD}
			, #{USER_STATUS}
			, #{USE_YN}
			, #{AGREE_YN}
			, <include refid="CommonInc.sysdate" />
			, <include refid="CommonInc.sysdate" />
			, 'Chrome'
			, '0.0.0.0'
			, <include refid="CommonInc.toChar" >
				<property name="arg1" value="SYSDATE"/>
				<property name="fmt1" value="'YYYYMMDD'"/>
				<property name="fmt3" value="'%Y%m%d'"/>
			  </include>
		)
	</insert>

	<update id="smpForm01Update" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm01Update
		* 샘플 정보 수정
		* @author ycjeon
		* @since 2020.08.24
		*/
		]]>
		UPDATE TB_SMP01
		SET
			<if test=" USER_ID != null and USER_ID != '' ">
				USER_ID 		= #{USER_ID}
			</if>
			<if test=" USER_NM != null and USER_NM != '' ">
				, USER_NM 		= #{USER_NM}
			</if>
			<if test=" USER_BIRTHDAY != null and USER_BIRTHDAY != '' ">
				, USER_BIRTHDAY = #{USER_BIRTHDAY}
			</if>
			<if test=" USER_EMAIL != null and USER_EMAIL != '' ">
				, USER_EMAIL 	= #{USER_EMAIL}
			</if>
			<if test=" USER_MOBILE != null and USER_MOBILE != '' ">
				, USER_MOBILE 	= #{USER_MOBILE}
			</if>
			<if test=" USER_TEL != null and USER_TEL != '' ">
				, USER_TEL 		= #{USER_TEL}
			</if>
			<if test=" USER_FAX != null and USER_FAX != '' ">
				, USER_FAX 		= #{USER_FAX}
			</if>
			<if test=" POST_CD != null and POST_CD != '' ">
				, POST_CD 		= #{POST_CD}
			</if>
			<if test=" USER_ADDR != null and USER_ADDR != '' ">
				, USER_ADDR1	= #{USER_ADDR}
			</if>
			<if test=" DEPT_CD != null and DEPT_CD != '' ">
				, DEPT_CD 		= #{DEPT_CD}
			</if>
			<if test=" USER_STATUS != null and USER_STATUS != '' ">
				, USER_STATUS 	= #{USER_STATUS}
			</if>
			<if test=" USE_YN != null and USE_YN != '' ">
				, USE_YN 		= #{USE_YN}
			</if>
			<if test=" AGREE_YN != null and AGREE_YN != '' ">
				, AGREE_YN 		= #{AGREE_YN}
			</if>
			, MOD_CD 	= #{_sessionUserCd}
			, MOD_DT 	= <include refid="CommonInc.sysdate" />
		WHERE USER_CD = #{USER_CD}
	</update>

	<delete id="smpForm01Delete" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm01Delete
		* 샘플 정보 삭제 - 실제로 삭제
		* @author ycjeon
		* @since 2020.08.24
		*/
		]]>
		DELETE FROM TB_SMP01
		WHERE USER_CD = #{USER_CD}
	</delete>
	<!-- smpForm01 end -->

	<!-- smpForm02 start -->
	<select id="smpForm02DeptSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm02DeptSelect
		* 샘플 부서 목록 조회
		* @author ymko
		* @since 2020.08.25
		*/
		]]>
		SELECT DEPT_CD
			, DEPT_NM
		FROM DEPT_INFO
		WHERE PARENT_DEPT = '0'
		<if test=" sDeptNm != null and sDeptNm != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND DEPT_NM LIKE '%' || #{sDeptNm} || '%'
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND DEPT_NM LIKE CONCAT('%', #{sDeptNm}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test=" sUseYn != null and sUseYn != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND USE_YN LIKE '%' || #{sUseYn} || '%'
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND USE_YN LIKE CONCAT('%', #{sUseYn}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
	</select>

	<select id="smpForm02Select" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm02Select
		* 샘플 목록 조회
		* @author ymko
		* @since 2020.08.25
		*/
		]]>
		SELECT USER_CD
			, USER_ID
			, USER_NM
			, USER_BIRTHDAY
			, USER_EMAIL
			, USER_MOBILE
			, USER_TEL
			, USER_FAX
			, POST_CD
			<if test="_databaseId == 'Oracle'">
		    , USER_ADDR1 || ' ' || USER_ADDR2 AS USER_ADDR
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			, CONCAT(USER_ADDR1, ' ', USER_ADDR2) AS USER_ADDR
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
			, DEPT_CD
			, USER_STATUS
			, USE_YN
			, AGREE_YN
			, LAST_LOGIN_DT
			, PW_CHANGE_DT
			<if test="_databaseId == 'Oracle'">
		    , LOGIN_DEVICE || ' ' || LOGIN_BROWSER AS LOGIN_BROWSER
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			, CONCAT(LOGIN_DEVICE, ' ', LOGIN_BROWSER) AS LOGIN_BROWSER
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
			, LOGIN_IP
			, JOIN_DATE
			, VALID_START_DATE
			, VALID_END_DATE
		FROM TB_SMP01
		WHERE 1 = 1
		<if test=" sDeptCd != null and sDeptCd != '' ">
			AND DEPT_CD = #{sDeptCd}
		</if>
		ORDER BY USER_CD
	</select>

	<insert id="smpForm02Insert" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm02Insert
		* 샘플 정보 입력
		* @author ymko
		* @since 2020.08.25
		*/
		]]>
		<selectKey keyProperty="USER_CD" resultType="String" order="BEFORE">
			<if test="_databaseId == 'Oracle'">
		    SELECT ('U' || LPAD(TO_NUMBER(NVL(MAX(SUBSTR(USER_CD, 2, 9)), '0') + 1), 9, '0')) AS USER_CD
			FROM TB_SMP01
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			SELECT CONCAT('U' , LPAD((COALESCE(MAX(SUBSTR(USER_CD, 2, 9)), '0') + 1), 9, '000000000')) AS USER_CD
			FROM TB_SMP01
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</selectKey>
		INSERT INTO TB_SMP01 (
			USER_CD
			, USER_ID
			, USER_NM
			, USER_PW
			, USER_BIRTHDAY
			, USER_EMAIL
			, USER_MOBILE
			, USER_TEL
			, USER_FAX
			, POST_CD
			, USER_ADDR1
			, DEPT_CD
			, USER_STATUS
			, USE_YN
			, AGREE_YN
			, LAST_LOGIN_DT
			, PW_CHANGE_DT
			, LOGIN_BROWSER
			, LOGIN_IP
			, JOIN_DATE
		)
		VALUES (
			#{USER_CD}
			, #{USER_ID}
			, #{USER_NM}
			, '123456'
			, #{USER_BIRTHDAY}
			, #{USER_EMAIL}
			, #{USER_MOBILE}
			, #{USER_TEL}
			, #{USER_FAX}
			, #{POST_CD}
			, #{USER_ADDR}
			, #{DEPT_CD}
			, #{USER_STATUS}
			, #{USE_YN}
			, #{AGREE_YN}
			, <include refid="CommonInc.sysdate" />
			, <include refid="CommonInc.sysdate" />
			, 'Chrome'
			, '0.0.0.0'
			, <include refid="CommonInc.toChar" >
				<property name="arg1" value="SYSDATE"/>
				<property name="fmt1" value="'YYYYMMDD'"/>
				<property name="fmt3" value="'%Y%m%d'"/>
			  </include>
		)
	</insert>

	<update id="smpForm02Update" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm02Update
		* 샘플 정보 수정
		* @author ymko
		* @since 2020.08.25
		*/
		]]>
		UPDATE TB_SMP01
		SET
			<if test=" USER_ID != null and USER_ID != '' ">
				USER_ID 		= #{USER_ID}
			</if>
			<if test=" USER_NM != null and USER_NM != '' ">
				, USER_NM 		= #{USER_NM}
			</if>
			<if test=" USER_BIRTHDAY != null and USER_BIRTHDAY != '' ">
				, USER_BIRTHDAY = #{USER_BIRTHDAY}
			</if>
			<if test=" USER_EMAIL != null and USER_EMAIL != '' ">
				, USER_EMAIL 	= #{USER_EMAIL}
			</if>
			<if test=" USER_MOBILE != null and USER_MOBILE != '' ">
				, USER_MOBILE 	= #{USER_MOBILE}
			</if>
			<if test=" USER_TEL != null and USER_TEL != '' ">
				, USER_TEL 		= #{USER_TEL}
			</if>
			<if test=" USER_FAX != null and USER_FAX != '' ">
				, USER_FAX 		= #{USER_FAX}
			</if>
			<if test=" POST_CD != null and POST_CD != '' ">
				, POST_CD 		= #{POST_CD}
			</if>
			<if test=" USER_ADDR != null and USER_ADDR != '' ">
				, USER_ADDR1 	= #{USER_ADDR}
			</if>
			<if test=" DEPT_CD != null and DEPT_CD != '' ">
				, DEPT_CD 		= #{DEPT_CD}
			</if>
			<if test=" USER_STATUS != null and USER_STATUS != '' ">
				, USER_STATUS	= #{USER_STATUS}
			</if>
			<if test=" USE_YN != null and USE_YN != '' ">
				, USE_YN 		= #{USE_YN}
			</if>
			<if test=" AGREE_YN != null and AGREE_YN != '' ">
				, AGREE_YN 		= #{AGREE_YN}
			</if>
			, MOD_CD 		= #{_sessionUserCd}
			, MOD_DT 		= <include refid="CommonInc.sysdate" />
		WHERE USER_CD = #{USER_CD}
	</update>

	<delete id="smpForm02Delete" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm02Delete
		* 샘플 정보 삭제 - 실제로 삭제
		* @author ymko
		* @since 2020.08.25
		*/
		]]>
		DELETE FROM TB_SMP01
		WHERE USER_CD = #{USER_CD}
	</delete>
	<!-- smpForm02 End -->

	<!-- smpForm03 start -->
	<select id="smpForm03DeptSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm03DeptSelect
		* 샘플 부서 목록 조회
		* @author KDS
		* @since 2020.10.19
		*/
		]]>
		SELECT DEPT_CD
			, DEPT_NM
		FROM DEPT_INFO
		WHERE PARENT_DEPT = '0'
		<if test=" sDeptNm != null and sDeptNm != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND DEPT_NM LIKE '%' || #{sDeptNm} || '%'
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND DEPT_NM LIKE CONCAT('%', #{sDeptNm}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test=" sUseYn != null and sUseYn != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND USE_YN LIKE '%' || #{sUseYn} || '%'
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND USE_YN LIKE CONCAT('%', #{sUseYn}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
	</select>

	<select id="smpForm03Select" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm03Select
		* 샘플 목록 조회
		* @author KDS
		* @since 2020.10.19
		*/
		]]>
		SELECT T.USER_CD												-- 사용자코드
			, T.USER_ID													-- 사용자ID
			, T.USER_NM													-- 사용자명
			, T.USER_ENG_NM												-- 사용자영문명
			, T.USER_BIRTHDAY											-- 사용자생년월일
			, T.USER_EMAIL												-- 사용자이메일
			, T.USER_MOBILE												-- 사용자휴대폰번호
			, T.USER_TEL												-- 사용자전화번호
			, T.USER_FAX												-- 사용자FAX
			, T.POST_CD													-- 우편번호
			<if test="_databaseId == 'Oracle'">
		    , T.USER_ADDR1 || ' ' || T.USER_ADDR2 AS USER_ADDR			-- 사용자 주소
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			, CONCAT(T.USER_ADDR1, ' ', T.USER_ADDR2) AS USER_ADDR			-- 사용자 주소
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
			, T.DEPT_CD													-- 부서코드
			, D.DEPT_NM													-- 부서코드_명
			, T.USER_POSITION											-- 사용자직위
			, C4.CODE_NM AS USER_POSITION_NM							-- 사용자직위_명
			, T.USER_STATUS												-- 사용자상태
			, C1.CODE_NM AS USER_STATUS_NM								-- 사용자상태_명
			, T.DESC_TXT												-- 상세설명
			, T.USE_YN													-- 사용여부
			, C2.CODE_NM AS USE_YN_NM									-- 사용여부_명
			, T.AGREE_YN												-- 동의여부
			, C3.CODE_NM AS AGREE_YN_NM									-- 동의여부_명
			, T.LOGIN_IP												-- 접속IP
			, T.VALID_START_DATE										-- 유효시작일자
			, T.VALID_END_DATE											-- 유효종료일자
			, T.REG_CD
			, T1_1.USER_NM AS REG_NM
			, T.MOD_CD
			, T1_2.USER_NM AS MOD_NM
			<if test="_databaseId == 'Oracle'">
			, TO_CHAR(T.LAST_LOGIN_DT, 'YYYY-MM-DD HH24:MI') AS LAST_LOGIN_DT	-- 최종로그인일시
			, TO_CHAR(T.PW_CHANGE_DT, 'YYYY-MM-DD HH24:MI') AS PW_CHANGE_DT		-- 비밀번호변경일시
			, T.LOGIN_DEVICE || ' ' || T.LOGIN_BROWSER AS LOGIN_BROWSER			-- 접속환경
			, TO_CHAR(TO_TIMESTAMP(T.JOIN_DATE, 'YYYYMMDD'), 'YYYY-MM-DD') AS JOIN_DATE	-- 입사일
			, TO_CHAR(T.REG_DT, 'YYYY-MM-DD HH24:MI') AS REG_DT
			, TO_CHAR(T.MOD_DT, 'YYYY-MM-DD HH24:MI') AS MOD_DT
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			, DATE_FORMAT(T.LAST_LOGIN_DT, '%Y-%m-%d %H:%i') AS LAST_LOGIN_DT	-- 최종로그인일시
			, DATE_FORMAT(T.PW_CHANGE_DT, '%Y-%m-%d %H:%i') AS PW_CHANGE_DT		-- 비밀번호변경일시
			, CONCAT(T.LOGIN_DEVICE, ' ', T.LOGIN_BROWSER) AS LOGIN_BROWSER			-- 접속환경
			, DATE_FORMAT(STR_TO_DATE(T.JOIN_DATE, '%Y%m%d'),'%Y-%m-%d') AS JOIN_DATE	-- 입사일
			, DATE_FORMAT(T.REG_DT, '%Y-%m-%d %H:%i') AS REG_DT
			, DATE_FORMAT(T.MOD_DT, '%Y-%m-%d %H:%i') AS MOD_DT
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		FROM TB_SMP01 T
			LEFT OUTER JOIN TB_SMP01 T1_1 ON T.REG_CD  = T1_1.USER_CD
			LEFT OUTER JOIN TB_SMP01 T1_2 ON T.MOD_CD  = T1_2.USER_CD
			LEFT OUTER JOIN CODE_INFO C1 ON C1.GROUP_ID = '00017' AND C1.CODE_ID = T.USER_STATUS
			LEFT OUTER JOIN CODE_INFO C2 ON C2.GROUP_ID = '00009' AND C2.CODE_ID = T.USE_YN
			LEFT OUTER JOIN CODE_INFO C3 ON C3.GROUP_ID = '00031' AND C3.CODE_ID = T.AGREE_YN
			LEFT OUTER JOIN CODE_INFO C4 ON C4.GROUP_ID = '00015' AND C4.CODE_ID = T.USER_POSITION
			LEFT OUTER JOIN DEPT_INFO D  ON D.DEPT_CD = T.DEPT_CD
		WHERE 1 = 1
		<if test=" sDeptCd != null and sDeptCd != '' ">
			AND T.DEPT_CD = #{sDeptCd}
		</if>
		ORDER BY T.USER_CD
	</select>

	<select id="smpForm03SubSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm03SubSelect
		* 샘플 목록 조회
		* @author KDS
		* @since 2020.10.19
		*/
		]]>
		SELECT T2.USER_CD
			,T1.USER_NM
			,T2.SCHEDULE_SEQ
			,T2.SCHEDULE_START_TIME
			,T2.SCHEDULE_END_TIME
			,T2.SCHEDULE_TITLE
			,T2.SCHEDULE_TXT
			,T2.SCHEDULE_PLACE
			,T2.PUSH_YN
			,C.CODE_NM AS PUSH_YN_NM
			,T2.REG_CD
			,T1_1.USER_NM AS REG_NM
			,T2.MOD_CD
			,T1_2.USER_NM AS MOD_NM
			<if test="_databaseId == 'Oracle'">
			,TO_CHAR(TO_TIMESTAMP(T2.SCHEDULE_START_DATE, 'YYYYMMDD'), 'YYYY-MM-DD') AS SCHEDULE_START_DATE
			,TO_CHAR(TO_TIMESTAMP(T2.SCHEDULE_END_DATE, 'YYYYMMDD')  , 'YYYY-MM-DD') AS SCHEDULE_END_DATE
			,TO_CHAR(T2.REG_DT, 'YYYY-MM-DD HH24:MI') AS REG_DT
			,TO_CHAR(T2.MOD_DT, 'YYYY-MM-DD HH24:MI') AS MOD_DT
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			,DATE_FORMAT(STR_TO_DATE(T2.SCHEDULE_START_DATE, '%Y%m%d'),'%Y-%m-%d') AS SCHEDULE_START_DATE
			,DATE_FORMAT(STR_TO_DATE(T2.SCHEDULE_END_DATE, '%Y%m%d'),'%Y-%m-%d') AS SCHEDULE_END_DATE
			,DATE_FORMAT(T2.REG_DT, '%Y-%m-%d %H:%i') AS REG_DT
			,DATE_FORMAT(T2.MOD_DT, '%Y-%m-%d %H:%i') AS MOD_DT
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		FROM TB_SMP02 T2
			LEFT OUTER JOIN TB_SMP01 T1   ON T2.USER_CD = T1.USER_CD
			LEFT OUTER JOIN TB_SMP01 T1_1 ON T2.REG_CD  = T1_1.USER_CD
			LEFT OUTER JOIN TB_SMP01 T1_2 ON T2.MOD_CD  = T1_2.USER_CD
			LEFT OUTER JOIN CODE_INFO C   ON C.GROUP_ID = '00009' AND T2.PUSH_YN = CODE_ID
			WHERE 1=1
			AND T2.USER_CD = #{sUserCd}

		ORDER BY T2.SCHEDULE_SEQ
	</select>

	<insert id="smpForm03Insert" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm03Insert
		* 샘플 정보 입력
		* @author KDS
		* @since 2020.10.19
		*/
		]]>
		<selectKey keyProperty="maxSeq" resultType="String" order="BEFORE">
			<if test="_databaseId == 'Oracle'">
		    SELECT (LPAD(TO_NUMBER(COALESCE(MAX(SCHEDULE_SEQ), '0') + 1), 10, '0')) AS maxSeq
			FROM TB_SMP02
			WHERE USER_CD = #{USER_CD}
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
			SELECT LPAD((COALESCE(MAX(SCHEDULE_SEQ), '0') + 1), 10, '0000000000') AS SEQ
			FROM TB_SMP02
			WHERE USER_CD = #{USER_CD}
		    </if>
		</selectKey>
		INSERT INTO TB_SMP02 (
			USER_CD
			, SCHEDULE_SEQ
			, SCHEDULE_START_DATE
			, SCHEDULE_START_TIME
			, SCHEDULE_END_DATE
			, SCHEDULE_END_TIME
			, SCHEDULE_TITLE
			, SCHEDULE_TXT
			, SCHEDULE_PLACE
			, PUSH_YN
			, REG_DT
			, REG_CD
		)
		VALUES (
			#{USER_CD}
			, #{maxSeq}
			, #{SCHEDULE_START_DATE}
			, #{SCHEDULE_START_TIME}
			, #{SCHEDULE_END_DATE}
			, #{SCHEDULE_END_TIME}
			, #{SCHEDULE_TITLE}
			, #{SCHEDULE_TXT}
			, #{SCHEDULE_PLACE}
			, 'N'
			, <include refid="CommonInc.sysdate" />
			, #{_sessionUserCd}
		)
	</insert>

	<update id="smpForm03Update" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm03Update
		* 샘플 정보 수정
		* @author KDS
		* @since 2020.10.19
		*/
		]]>
		UPDATE TB_SMP02
		SET
			<if test=" SCHEDULE_START_DATE != null and SCHEDULE_START_DATE != '' ">
				SCHEDULE_START_DATE 	= REPLACE(#{SCHEDULE_START_DATE}, '-', '')
			</if>
			<if test=" SCHEDULE_START_TIME != null and SCHEDULE_START_TIME != '' ">
				, SCHEDULE_START_TIME 	= #{SCHEDULE_START_TIME}
			</if>
			<if test=" SCHEDULE_END_DATE != null and SCHEDULE_END_DATE != '' ">
				, SCHEDULE_END_DATE 	= REPLACE(#{SCHEDULE_END_DATE}, '-', '')
			</if>
			<if test=" SCHEDULE_END_TIME != null and SCHEDULE_END_TIME != '' ">
				, SCHEDULE_END_TIME 	= #{SCHEDULE_END_TIME}
			</if>
			<if test=" SCHEDULE_TITLE != null and SCHEDULE_TITLE != '' ">
				, SCHEDULE_TITLE 		= #{SCHEDULE_TITLE}
			</if>
			<if test=" SCHEDULE_TXT != null and SCHEDULE_TXT != '' ">
				, SCHEDULE_TXT 			= #{SCHEDULE_TXT}
			</if>
			<if test=" SCHEDULE_PLACE != null and SCHEDULE_PLACE != '' ">
				, SCHEDULE_PLACE 		= #{SCHEDULE_PLACE}
			</if>
			<if test=" PUSH_YN != null and PUSH_YN != '' ">
				, PUSH_YN 				= #{PUSH_YN}
			</if>
			, MOD_CD = #{_sessionUserCd}
			, MOD_DT = <include refid="CommonInc.sysdate" />
		WHERE USER_CD = #{USER_CD}
	</update>

	<delete id="smpForm03Delete" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm03Delete
		* 샘플 정보 삭제 - 실제로 삭제
		* @author KDS
		* @since 2020.10.19
		*/
		]]>
		DELETE FROM TB_SMP02
		WHERE USER_CD = #{USER_CD}
			AND SCHEDULE_SEQ = #{SCHEDULE_SEQ}
	</delete>
	<!-- smpForm03 End -->

	<!-- smpForm04 start -->
	<select id="smpForm04DeptSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm04DeptSelect
		* 샘플 부서 목록 조회
		* @author KDS
		* @since 2020.10.21
		*/
		]]>
		SELECT DEPT_CD
			, DEPT_NM
		FROM DEPT_INFO
		WHERE PARENT_DEPT = '0'
		<if test=" sDeptCd != null and sDeptCd != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND DEPT_CD LIKE '%' || #{sDeptCd} || '%'
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND DEPT_CD LIKE CONCAT('%', #{sDeptCd}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test=" sUseYn != null and sUseYn != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND USE_YN LIKE '%' || #{sUseYn} || '%'
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND USE_YN LIKE CONCAT('%', #{sUseYn}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
	</select>

	<select id="smpForm04UserListSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm04UserListSelect
		* 샘플 목록 조회
		* @author KDS
		* @since 2020.10.21
		*/
		]]>
		SELECT USER_CD
			, USER_NM
			, DEPT_CD
		FROM TB_SMP01
			WHERE 1 = 1
		<if test=" sDeptCd != null and sDeptCd != '' ">
			AND DEPT_CD = #{sDeptCd}
		</if>
		<if test=" sUseYn != null and sUseYn != '' ">
			AND USE_YN = #{sUseYn}
		</if>
		ORDER BY USER_CD
	</select>

	<select id="smpForm04Select" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm04Select
		* 샘플 목록 조회
		* @author KDS
		* @since 2020.10.21
		*/
		]]>
		SELECT T.USER_CD												-- 사용자코드
			, T.USER_ID													-- 사용자ID
			, T.USER_NM													-- 사용자명
			, T.USER_ENG_NM												-- 사용자영문명
			, T.USER_BIRTHDAY											-- 사용자생년월일
			, T.USER_EMAIL												-- 사용자이메일
			, T.USER_MOBILE												-- 사용자휴대폰번호
			, T.USER_TEL												-- 사용자전화번호
			, T.USER_FAX												-- 사용자FAX
			, T.POST_CD													-- 우편번호
			, T.DEPT_CD													-- 부서코드
			, D.DEPT_NM													-- 부서코드_명
			, T.USER_POSITION											-- 사용자직위
			, C4.CODE_NM AS USER_POSITION_NM								-- 사용자직위_명
			, T.USER_STATUS												-- 사용자상태
			, C1.CODE_NM AS USER_STATUS_NM								-- 사용자상태_명
			, T.DESC_TXT												-- 상세설명
			, T.USE_YN													-- 사용여부
			, C2.CODE_NM AS USE_YN_NM									-- 사용여부_명
			, T.AGREE_YN												-- 동의여부
			, C3.CODE_NM AS AGREE_YN_NM									-- 동의여부_명
			, T.LOGIN_IP												-- 접속IP
			, T.VALID_START_DATE										-- 유효시작일자
			, T.VALID_END_DATE											-- 유효종료일자
			, T.REG_CD
			, T1_1.USER_NM AS REG_NM
			, T.MOD_CD
			, T1_2.USER_NM AS MOD_NM
			<if test="_databaseId == 'Oracle'">
		    , T.USER_ADDR1 || ' ' || T.USER_ADDR2 AS USER_ADDR			-- 사용자 주소
			, TO_CHAR(T.LAST_LOGIN_DT, 'YYYY-MM-DD HH24:MI') AS LAST_LOGIN_DT	-- 최종로그인일시
			, TO_CHAR(T.PW_CHANGE_DT, 'YYYY-MM-DD HH24:MI') AS PW_CHANGE_DT		-- 비밀번호변경일시
			, T.LOGIN_DEVICE || ' ' || T.LOGIN_BROWSER AS LOGIN_BROWSER	-- 접속환경
			, TO_CHAR(TO_TIMESTAMP(T.JOIN_DATE, 'YYYYMMDD'), 'YYYY-MM-DD') AS JOIN_DATE	-- 입사일
			, TO_CHAR(T.REG_DT, 'YYYY-MM-DD HH24:MI') AS REG_DT
			, TO_CHAR(T.MOD_DT, 'YYYY-MM-DD HH24:MI') AS MOD_DT
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			, CONCAT(T.USER_ADDR1, ' ', T.USER_ADDR2) AS USER_ADDR			-- 사용자 주소
			, DATE_FORMAT(T.LAST_LOGIN_DT, '%Y-%m-%d %H:%i') AS LAST_LOGIN_DT	-- 최종로그인일시
			, DATE_FORMAT(T.PW_CHANGE_DT, '%Y-%m-%d %H:%i') AS PW_CHANGE_DT		-- 비밀번호변경일시
			, CONCAT(T.LOGIN_DEVICE, ' ', T.LOGIN_BROWSER) AS LOGIN_BROWSER	-- 접속환경
			, DATE_FORMAT(STR_TO_DATE(T.JOIN_DATE, '%Y%m%d'),'%Y-%m-%d') AS JOIN_DATE	-- 입사일
			, DATE_FORMAT(T.REG_DT, '%Y-%m-%d %H:%i') AS REG_DT
			, DATE_FORMAT(T.MOD_DT, '%Y-%m-%d %H:%i') AS MOD_DT
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		FROM TB_SMP01 T
			LEFT OUTER JOIN TB_SMP01 T1_1 ON T.REG_CD  = T1_1.USER_CD
			LEFT OUTER JOIN TB_SMP01 T1_2 ON T.MOD_CD  = T1_2.USER_CD
			LEFT OUTER JOIN CODE_INFO C1 ON C1.GROUP_ID = '00017' AND C1.CODE_ID = T.USER_STATUS
			LEFT OUTER JOIN CODE_INFO C2 ON C2.GROUP_ID = '00009' AND C2.CODE_ID = T.USE_YN
			LEFT OUTER JOIN CODE_INFO C3 ON C3.GROUP_ID = '00031' AND C3.CODE_ID = T.AGREE_YN
			LEFT OUTER JOIN CODE_INFO C4 ON C4.GROUP_ID = '00015' AND C4.CODE_ID = T.USER_POSITION
			LEFT OUTER JOIN DEPT_INFO D  ON D.DEPT_CD = T.DEPT_CD
		WHERE 1 = 1
		<if test=" sUserCd != null and sUserCd != '' ">
			AND T.USER_CD = #{sUserCd}
		</if>
		ORDER BY T.USER_CD
	</select>

	<insert id="smpForm04Insert" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm04Insert
		* 샘플 정보 입력
		* @author KDS
		* @since 2020.10.21
		*/
		]]>
		<selectKey keyProperty="USER_CD" resultType="String" order="BEFORE">
			<if test="_databaseId == 'Oracle'">
		    SELECT ('U' || LPAD(TO_NUMBER(NVL(MAX(SUBSTR(USER_CD, 2, 9)), '0') + 1), 9, '0')) AS USER_CD
			FROM TB_SMP01
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			SELECT CONCAT('U' , LPAD((COALESCE(MAX(SUBSTR(USER_CD, 2, 9)), '0') + 1), 9, '000000000')) AS USER_CD
			FROM TB_SMP01
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</selectKey>
		INSERT INTO TB_SMP01 (
			USER_CD
			, USER_ID
			, USER_NM
			, USER_PW
			, USER_BIRTHDAY
			, USER_EMAIL
			, USER_MOBILE
			, USER_TEL
			, USER_FAX
			, POST_CD
			, USER_ADDR1
			, DEPT_CD
			, USER_STATUS
			, USE_YN
			, AGREE_YN
			, LAST_LOGIN_DT
			, PW_CHANGE_DT
			, LOGIN_BROWSER
			, LOGIN_IP
			, JOIN_DATE
		)
		VALUES (
			#{USER_CD}
			, #{USER_ID}
			, #{USER_NM}
			, '123456'
			, #{USER_BIRTHDAY}
			, #{USER_EMAIL}
			, #{USER_MOBILE}
			, #{USER_TEL}
			, #{USER_FAX}
			, #{POST_CD}
			, #{USER_ADDR}
			, #{DEPT_CD}
			, #{USER_STATUS}
			, #{USE_YN}
			, #{AGREE_YN}
			, <include refid="CommonInc.sysdate" />
			, <include refid="CommonInc.sysdate" />
			, 'Chrome'
			, '0.0.0.0'
			, <include refid="CommonInc.toChar" >
				<property name="arg1" value="SYSDATE"/>
				<property name="fmt1" value="'YYYYMMDD'"/>
				<property name="fmt3" value="'%Y%m%d'"/>
			  </include>
		)
	</insert>

	<update id="smpForm04Update" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm04Update
		* 샘플 정보 수정
		* @author KDS
		* @since 2020.10.21
		*/
		]]>
		UPDATE TB_SMP01
		SET
			<if test=" USER_ID != null and USER_ID != '' ">
				  USER_ID 		= #{USER_ID}
			</if>
			<if test=" USER_NM != null and USER_NM != '' ">
				, USER_NM 		= #{USER_NM}
			</if>
			<if test=" USER_BIRTHDAY != null and USER_BIRTHDAY != '' ">
				, USER_BIRTHDAY = #{USER_BIRTHDAY}
			</if>
			<if test=" USER_EMAIL != null and USER_EMAIL != '' ">
				, USER_EMAIL 	= #{USER_EMAIL}
			</if>
			<if test=" USER_MOBILE != null and USER_MOBILE != '' ">
				, USER_MOBILE 	= #{USER_MOBILE}
			</if>
			<if test=" USER_TEL != null and USER_TEL != '' ">
				, USER_TEL 		= #{USER_TEL}
			</if>
			<if test=" USER_FAX != null and USER_FAX != '' ">
				, USER_FAX 		= #{USER_FAX}
			</if>
			<if test=" POST_CD != null and POST_CD != '' ">
				, POST_CD 		= #{POST_CD}
			</if>
			<if test=" USER_ADDR != null and USER_ADDR != '' ">
				, USER_ADDR1 	= #{USER_ADDR}
			</if>
			<if test=" DEPT_CD != null and DEPT_CD != '' ">
				, DEPT_CD 		= #{DEPT_CD}
			</if>
			<if test=" USER_STATUS != null and USER_STATUS != '' ">
				, USER_STATUS 	= #{USER_STATUS}
			</if>
			<if test=" USE_YN != null and USE_YN != '' ">
				, USE_YN 		= #{USE_YN}
			</if>
			<if test=" AGREE_YN != null and AGREE_YN != '' ">
				, AGREE_YN 		= #{AGREE_YN}
			</if>
			, MOD_CD = #{_sessionUserCd}
			, MOD_DT = <include refid="CommonInc.sysdate" />
		WHERE USER_CD = #{USER_CD}
	</update>

	<delete id="smpForm04Delete" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm04Delete
		* 샘플 정보 삭제 - 실제로 삭제
		* @author KDS
		* @since 2020.10.21
		*/
		]]>
		DELETE FROM TB_SMP01
		WHERE USER_CD = #{USER_CD}
	</delete>
	<!-- smpForm04 End -->

	<!-- smpForm05 start -->
	<select id="smpForm05DeptSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm05DeptSelect
		* 샘플 부서 목록 조회
		* @author KDS
		* @since 2020.10.21
		*/
		]]>
		SELECT DEPT_CD
			, DEPT_NM
		FROM DEPT_INFO
		WHERE PARENT_DEPT = '0'
		<if test=" sDeptNm != null and sDeptNm != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND DEPT_NM LIKE '%' || #{sDeptNm} || '%'
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND DEPT_NM LIKE CONCAT('%', #{sDeptNm}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test=" sUseYn != null and sUseYn != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND USE_YN LIKE '%' || #{sUseYn} || '%'
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND USE_YN LIKE CONCAT('%', #{sUseYn}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
	</select>

	<select id="smpForm05Select" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm05Select
		* 샘플 목록 조회
		* @author KDS
		* @since 2020.10.21
		*/
		]]>
		SELECT T.USER_CD												-- 사용자코드
			, T.USER_ID													-- 사용자ID
			, T.USER_NM													-- 사용자명
			, T.USER_ENG_NM												-- 사용자영문명
			, T.USER_BIRTHDAY											-- 사용자생년월일
			, T.USER_EMAIL												-- 사용자이메일
			, T.USER_MOBILE												-- 사용자휴대폰번호
			, T.USER_TEL												-- 사용자전화번호
			, T.USER_FAX												-- 사용자FAX
			, T.POST_CD													-- 우편번호
			, T.DEPT_CD													-- 부서코드
			, D.DEPT_NM													-- 부서코드_명
			, T.USER_POSITION											-- 사용자직위
			, C4.CODE_NM AS USER_POSITION_NM								-- 사용자직위_명
			, T.USER_STATUS												-- 사용자상태
			, C1.CODE_NM AS USER_STATUS_NM								-- 사용자상태_명
			, T.DESC_TXT												-- 상세설명
			, T.USE_YN													-- 사용여부
			, C2.CODE_NM AS USE_YN_NM									-- 사용여부_명
			, T.AGREE_YN												-- 동의여부
			, C3.CODE_NM AS AGREE_YN_NM									-- 동의여부_명
			, T.LOGIN_IP												-- 접속IP
			, T.VALID_START_DATE										-- 유효시작일자
			, T.VALID_END_DATE											-- 유효종료일자
			, T.REG_CD
			, T1_1.USER_NM AS REG_NM
			, T.MOD_CD
			, T1_2.USER_NM AS MOD_NM
			<if test="_databaseId == 'Oracle'">
		    , T.USER_ADDR1 || ' ' || T.USER_ADDR2 AS USER_ADDR			-- 사용자 주소
			, TO_CHAR(T.LAST_LOGIN_DT, 'YYYY-MM-DD HH24:MI') AS LAST_LOGIN_DT	-- 최종로그인일시
			, TO_CHAR(T.PW_CHANGE_DT, 'YYYY-MM-DD HH24:MI') AS PW_CHANGE_DT		-- 비밀번호변경일시
			, T.LOGIN_DEVICE || ' ' || T.LOGIN_BROWSER AS LOGIN_BROWSER	-- 접속환경
			, TO_CHAR(TO_TIMESTAMP(T.JOIN_DATE, 'YYYYMMDD'), 'YYYY-MM-DD') AS JOIN_DATE	-- 입사일
			, TO_CHAR(T.REG_DT, 'YYYY-MM-DD HH24:MI') AS REG_DT
			, TO_CHAR(T.MOD_DT, 'YYYY-MM-DD HH24:MI') AS MOD_DT
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			, CONCAT(T.USER_ADDR1, ' ', T.USER_ADDR2) AS USER_ADDR				-- 사용자 주소
			, DATE_FORMAT(T.LAST_LOGIN_DT, '%Y-%m-%d %H:%i') AS LAST_LOGIN_DT	-- 최종로그인일시
			, DATE_FORMAT(T.PW_CHANGE_DT, '%Y-%m-%d %H:%i') AS PW_CHANGE_DT		-- 비밀번호변경일시
			, CONCAT(T.LOGIN_DEVICE, ' ', T.LOGIN_BROWSER) AS LOGIN_BROWSER		-- 접속환경
			, DATE_FORMAT(STR_TO_DATE(T.JOIN_DATE, '%Y%m%d'),'%Y-%m-%d') AS JOIN_DATE	-- 입사일
			, DATE_FORMAT(T.REG_DT, '%Y-%m-%d %H:%i') AS REG_DT
			, DATE_FORMAT(T.MOD_DT, '%Y-%m-%d %H:%i') AS MOD_DT
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		FROM TB_SMP01 T
			LEFT OUTER JOIN TB_SMP01 T1_1 ON T.REG_CD  = T1_1.USER_CD
			LEFT OUTER JOIN TB_SMP01 T1_2 ON T.MOD_CD  = T1_2.USER_CD
			LEFT OUTER JOIN CODE_INFO C1 ON C1.GROUP_ID = '00017' AND C1.CODE_ID = T.USER_STATUS
			LEFT OUTER JOIN CODE_INFO C2 ON C2.GROUP_ID = '00009' AND C2.CODE_ID = T.USE_YN
			LEFT OUTER JOIN CODE_INFO C3 ON C3.GROUP_ID = '00031' AND C3.CODE_ID = T.AGREE_YN
			LEFT OUTER JOIN CODE_INFO C4 ON C4.GROUP_ID = '00015' AND C4.CODE_ID = T.USER_POSITION
			LEFT OUTER JOIN DEPT_INFO D  ON D.DEPT_CD = T.DEPT_CD
		WHERE 1 = 1
		<if test=" sDeptCd != null and sDeptCd != '' ">
			AND T.DEPT_CD = #{sDeptCd}
		</if>
		ORDER BY T.USER_CD
	</select>

	<insert id="smpForm05Insert" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm05Insert
		* 샘플 정보 입력
		* @author KDS
		* @since 2020.10.19
		*/
		]]>
		<selectKey keyProperty="USER_CD" resultType="String" order="BEFORE">
			<if test="_databaseId == 'Oracle'">
		    SELECT ('U' || LPAD(TO_NUMBER(NVL(MAX(SUBSTR(USER_CD, 2, 9)), '0') + 1), 9, '0')) AS USER_CD
			FROM TB_SMP01
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			SELECT CONCAT('U' , LPAD((COALESCE(MAX(SUBSTR(USER_CD, 2, 9)), '0') + 1), 9, '000000000')) AS USER_CD
			FROM TB_SMP01
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</selectKey>
		INSERT INTO TB_SMP01 (
			USER_CD
			, USER_ID
			, USER_NM
			, USER_ENG_NM
			, USER_PW
			, USER_BIRTHDAY
			, USER_EMAIL
			, USER_MOBILE
			, USER_TEL
			, USER_FAX
			, POST_CD
			, USER_ADDR1
			, DEPT_CD
			, USER_POSITION
			, USER_STATUS
			, USE_YN
			, AGREE_YN
			, DESC_TXT
			, LAST_LOGIN_DT
			, PW_CHANGE_DT
			, LOGIN_BROWSER
			, LOGIN_IP
			, JOIN_DATE
		)
		VALUES (
			#{USER_CD}
			, #{USER_ID}
			, #{USER_NM}
			, #{USER_ENG_NM}
			, '123456'
			, #{USER_BIRTHDAY}
			, #{USER_EMAIL}
			, #{USER_MOBILE}
			, #{USER_TEL}
			, #{USER_FAX}
			, '821888'
			, #{USER_ADDR}
			, #{DEPT_CD}
			, #{USER_POSITION}
			, #{USER_STATUS}
			, #{USE_YN}
			, #{AGREE_YN}
			, #{DESC_TXT}
			, <include refid="CommonInc.sysdate" />
			, <include refid="CommonInc.sysdate" />
			, 'Chrome'
			, '0.0.0.0'
			, <include refid="CommonInc.toChar" >
				<property name="arg1" value="SYSDATE"/>
				<property name="fmt1" value="'YYYYMMDD'"/>
				<property name="fmt3" value="'%Y%m%d'"/>
			  </include>
		)
	</insert>

	<update id="smpForm05Update" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm05Update
		* 샘플 정보 수정
		* @author KDS
		* @since 2020.10.21
		*/
		]]>
		UPDATE TB_SMP01
		SET
			<if test=" USER_ID != null and USER_ID != '' ">
				USER_ID 		= #{USER_ID}
			</if>
			<if test=" USER_NM != null and USER_NM != '' ">
				, USER_NM 		= #{USER_NM}
			</if>
			<if test=" USER_ENG_NM != null and USER_ENG_NM != '' ">
				, USER_ENG_NM 	= #{USER_ENG_NM}
			</if>
			<if test=" USER_BIRTHDAY != null and USER_BIRTHDAY != '' ">
				, USER_BIRTHDAY = #{USER_BIRTHDAY}
			</if>
			<if test=" USER_EMAIL != null and USER_EMAIL != '' ">
				, USER_EMAIL 	= #{USER_EMAIL}
			</if>
			<if test=" USER_MOBILE != null and USER_MOBILE != '' ">
				, USER_MOBILE 	= #{USER_MOBILE}
			</if>
			<if test=" USER_TEL != null and USER_TEL != '' ">
				, USER_TEL 		= #{USER_TEL}
			</if>
			<if test=" USER_FAX != null and USER_FAX != '' ">
				, USER_FAX 		= #{USER_FAX}
			</if>
			<if test=" POST_CD != null and POST_CD != '' ">
				, POST_CD 		= #{POST_CD}
			</if>
			<if test=" USER_ADDR != null and USER_ADDR != '' ">
				, USER_ADDR1 	= #{USER_ADDR}
			</if>
			<if test=" DEPT_CD != null and DEPT_CD != '' ">
				, DEPT_CD 		= #{DEPT_CD}
			</if>
			<if test=" USER_POSITION != null and USER_POSITION != '' ">
				, USER_POSITION = #{USER_POSITION}
			</if>
			<if test=" USER_STATUS != null and USER_STATUS != '' ">
				, USER_STATUS	= #{USER_STATUS}
			</if>
			<if test=" USE_YN != null and USE_YN != '' ">
				, USE_YN 		= #{USE_YN}
			</if>
			<if test=" AGREE_YN != null and AGREE_YN != '' ">
				, AGREE_YN 		= #{AGREE_YN}
			</if>
			<if test=" DESC_TXT != null and DESC_TXT != '' ">
				, DESC_TXT 		= #{DESC_TXT}
			</if>
			, MOD_CD 		= #{_sessionUserCd}
			, MOD_DT 		= <include refid="CommonInc.sysdate" />
		WHERE USER_CD = #{USER_CD}
	</update>

	<delete id="smpForm05Delete" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm05Delete
		* 샘플 정보 삭제 - 실제로 삭제
		* @author KDS
		* @since 2020.10.21
		*/
		]]>
		DELETE FROM TB_SMP01
		WHERE USER_CD = #{USER_CD}
	</delete>
	<!-- smpForm05 End -->

	<!-- smpForm06 start -->
	<select id="smpForm06DeptSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm06DeptSelect
		* 샘플 부서 목록 조회
		* @author kds
		* @since 2020.10.23
		*/
		]]>
		SELECT DEPT_CD
			, DEPT_NM
			, DEPT_LEVEL
		FROM DEPT_INFO
		WHERE 1=1
		<if test=" sDeptNm != null and sDeptNm != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND DEPT_NM LIKE '%' || #{sDeptNm} || '%'
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND DEPT_NM LIKE CONCAT('%', #{sDeptNm}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test=" sUseYn != null and sUseYn != '' ">
			AND USE_YN LIKE '%' || #{sUseYn} || '%'
		</if>
		ORDER BY DEPT_ORDER
	</select>

	<select id="smpForm06Select" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm06Select
		* 샘플 목록 조회
		* @author kds
		* @since 2020.10.23
		*/
		]]>
		SELECT T.USER_CD												-- 사용자코드
			, T.USER_ID													-- 사용자ID
			, T.USER_NM													-- 사용자명
			, T.USER_ENG_NM												-- 사용자영문명
			, T.USER_BIRTHDAY											-- 사용자생년월일
			, T.USER_EMAIL												-- 사용자이메일
			, T.USER_MOBILE												-- 사용자휴대폰번호
			, T.USER_TEL												-- 사용자전화번호
			, T.USER_FAX												-- 사용자FAX
			, T.POST_CD													-- 우편번호
			, T.DEPT_CD													-- 부서코드
			, D.DEPT_NM													-- 부서코드_명
			, T.USER_POSITION											-- 사용자직위
			, C4.CODE_NM AS USER_POSITION_NM								-- 사용자직위_명
			, T.USER_STATUS												-- 사용자상태
			, C1.CODE_NM AS USER_STATUS_NM								-- 사용자상태_명
			, T.DESC_TXT												-- 상세설명
			, T.USE_YN													-- 사용여부
			, C2.CODE_NM AS USE_YN_NM									-- 사용여부_명
			, T.AGREE_YN												-- 동의여부
			, C3.CODE_NM AS AGREE_YN_NM									-- 동의여부_명
			, T.LOGIN_IP												-- 접속IP
			, T.VALID_START_DATE										-- 유효시작일자
			, T.VALID_END_DATE											-- 유효종료일자
			, T.REG_CD
			, T1_1.USER_NM AS REG_NM
			, T.MOD_CD
			, T1_2.USER_NM AS MOD_NM
			<if test="_databaseId == 'Oracle'">
		    , T.USER_ADDR1 || ' ' || T.USER_ADDR2 AS USER_ADDR			-- 사용자 주소
			, TO_CHAR(T.LAST_LOGIN_DT, 'YYYY-MM-DD HH24:MI') AS LAST_LOGIN_DT	-- 최종로그인일시
			, TO_CHAR(T.PW_CHANGE_DT, 'YYYY-MM-DD HH24:MI') AS PW_CHANGE_DT		-- 비밀번호변경일시
			, T.LOGIN_DEVICE || ' ' || T.LOGIN_BROWSER AS LOGIN_BROWSER	-- 접속환경
			, TO_CHAR(TO_TIMESTAMP(T.JOIN_DATE, 'YYYYMMDD'), 'YYYY-MM-DD') AS JOIN_DATE	-- 입사일
			, TO_CHAR(T.REG_DT, 'YYYY-MM-DD HH24:MI') AS REG_DT
			, TO_CHAR(T.MOD_DT, 'YYYY-MM-DD HH24:MI') AS MOD_DT
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			, CONCAT(T.USER_ADDR1, ' ', T.USER_ADDR2) AS USER_ADDR			-- 사용자 주소
			, DATE_FORMAT(T.LAST_LOGIN_DT, '%Y-%m-%d %H:%i') AS LAST_LOGIN_DT	-- 최종로그인일시
			, DATE_FORMAT(T.PW_CHANGE_DT, '%Y-%m-%d %H:%i') AS PW_CHANGE_DT		-- 비밀번호변경일시
			, CONCAT(T.LOGIN_DEVICE, ' ', T.LOGIN_BROWSER) AS LOGIN_BROWSER	-- 접속환경
			, DATE_FORMAT(STR_TO_DATE(T.JOIN_DATE, '%Y%m%d'),'%Y-%m-%d') AS JOIN_DATE	-- 입사일
			, DATE_FORMAT(T.REG_DT, '%Y-%m-%d %H:%i') AS REG_DT
			, DATE_FORMAT(T.MOD_DT, '%Y-%m-%d %H:%i') AS MOD_DT
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		FROM TB_SMP01 T
			LEFT OUTER JOIN TB_SMP01 T1_1 ON T.REG_CD  = T1_1.USER_CD
			LEFT OUTER JOIN TB_SMP01 T1_2 ON T.MOD_CD  = T1_2.USER_CD
			LEFT OUTER JOIN CODE_INFO C1 ON C1.GROUP_ID = '00017' AND C1.CODE_ID = T.USER_STATUS
			LEFT OUTER JOIN CODE_INFO C2 ON C2.GROUP_ID = '00009' AND C2.CODE_ID = T.USE_YN
			LEFT OUTER JOIN CODE_INFO C3 ON C3.GROUP_ID = '00031' AND C3.CODE_ID = T.AGREE_YN
			LEFT OUTER JOIN CODE_INFO C4 ON C4.GROUP_ID = '00015' AND C4.CODE_ID = T.USER_POSITION
			LEFT OUTER JOIN DEPT_INFO D  ON D.DEPT_CD = T.DEPT_CD
		WHERE 1 = 1
		<if test=" sDeptCd != null and sDeptCd != '' ">
			AND T.DEPT_CD = #{sDeptCd}
		</if>
		ORDER BY T.USER_CD
	</select>

	<insert id="smpForm06Insert" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm06Insert
		* 샘플 정보 입력
		* @author kds
		* @since 2020.10.23
		*/
		]]>
		<selectKey keyProperty="USER_CD" resultType="String" order="BEFORE">
			<if test="_databaseId == 'Oracle'">
		    SELECT ('U' || LPAD(TO_NUMBER(NVL(MAX(SUBSTR(USER_CD, 2, 9)), '0') + 1), 9, '0')) AS USER_CD
			FROM TB_SMP01
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			SELECT CONCAT('U' , LPAD((COALESCE(MAX(SUBSTR(USER_CD, 2, 9)), '0') + 1), 9, '000000000')) AS USER_CD
			FROM TB_SMP01
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</selectKey>
		INSERT INTO TB_SMP01 (
			USER_CD
			, USER_ID
			, USER_NM
			, USER_PW
			, USER_BIRTHDAY
			, USER_EMAIL
			, USER_MOBILE
			, USER_TEL
			, USER_FAX
			, POST_CD
			, USER_ADDR1
			, DEPT_CD
			, USER_STATUS
			, USE_YN
			, AGREE_YN
			, LAST_LOGIN_DT
			, PW_CHANGE_DT
			, LOGIN_BROWSER
			, LOGIN_IP
			, JOIN_DATE
		)
		VALUES (
			#{USER_CD}
			, #{USER_ID}
			, #{USER_NM}
			, '123456'
			, #{USER_BIRTHDAY}
			, #{USER_EMAIL}
			, #{USER_MOBILE}
			, #{USER_TEL}
			, #{USER_FAX}
			, #{POST_CD}
			, #{USER_ADDR}
			, #{DEPT_CD}
			, #{USER_STATUS}
			, #{USE_YN}
			, #{AGREE_YN}
			, <include refid="CommonInc.sysdate" />
			, <include refid="CommonInc.sysdate" />
			, 'Chrome'
			, '0.0.0.0'
			, <include refid="CommonInc.toChar" >
				<property name="arg1" value="SYSDATE"/>
				<property name="fmt1" value="'YYYYMMDD'"/>
				<property name="fmt3" value="'%Y%m%d'"/>
			  </include>
		)
	</insert>

	<update id="smpForm06Update" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm06Update
		* 샘플 정보 수정
		* @author kds
		* @since 2020.10.23
		*/
		]]>
		UPDATE TB_SMP01
		SET
			<if test=" USER_ID != null and USER_ID != '' ">
				USER_ID 		= #{USER_ID}
			</if>
			<if test=" USER_NM != null and USER_NM != '' ">
				, USER_NM 		= #{USER_NM}
			</if>
			<if test=" USER_BIRTHDAY != null and USER_BIRTHDAY != '' ">
				, USER_BIRTHDAY = #{USER_BIRTHDAY}
			</if>
			<if test=" USER_EMAIL != null and USER_EMAIL != '' ">
				, USER_EMAIL 	= #{USER_EMAIL}
			</if>
			<if test=" USER_MOBILE != null and USER_MOBILE != '' ">
				, USER_MOBILE 	= #{USER_MOBILE}
			</if>
			<if test=" USER_TEL != null and USER_TEL != '' ">
				, USER_TEL 		= #{USER_TEL}
			</if>
			<if test=" USER_FAX != null and USER_FAX != '' ">
				, USER_FAX 		= #{USER_FAX}
			</if>
			<if test=" POST_CD != null and POST_CD != '' ">
				, POST_CD 		= #{POST_CD}
			</if>
			<if test=" USER_ADDR != null and USER_ADDR != '' ">
				, USER_ADDR1 	= #{USER_ADDR}
			</if>
			<if test=" DEPT_CD != null and DEPT_CD != '' ">
				, DEPT_CD 		= #{DEPT_CD}
			</if>
			<if test=" USER_STATUS != null and USER_STATUS != '' ">
				, USER_STATUS	= #{USER_STATUS}
			</if>
			<if test=" USE_YN != null and USE_YN != '' ">
				, USE_YN 		= #{USE_YN}
			</if>
			<if test=" AGREE_YN != null and AGREE_YN != '' ">
				, AGREE_YN 		= #{AGREE_YN}
			</if>
			, MOD_CD 		= #{_sessionUserCd}
			, MOD_DT 		= <include refid="CommonInc.sysdate" />
		WHERE USER_CD = #{USER_CD}
	</update>

	<delete id="smpForm06Delete" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm06Delete
		* 샘플 정보 삭제 - 실제로 삭제
		* @author kds
		* @since 2020.10.23
		*/
		]]>
		DELETE FROM TB_SMP01
		WHERE USER_CD = #{USER_CD}
	</delete>
	<!-- smpForm06 End -->

	<!-- smpForm07 start -->
	<select id="smpForm07DeptSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm07DeptSelect
		* 샘플 부서 목록 조회
		* @author KDS
		* @since 2020.10.26
		*/
		]]>
		SELECT DEPT_CD
			, DEPT_NM
		FROM DEPT_INFO
		WHERE 1 = 1
		<if test=" sDeptCd != null and sDeptCd != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND DEPT_CD LIKE '%' || #{sDeptCd} || '%'
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND DEPT_CD LIKE CONCAT('%', #{sDeptCd}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test=" sUseYn != null and sUseYn != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND USE_YN LIKE '%' || #{sUseYn} || '%'
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND USE_YN LIKE CONCAT('%', #{sUseYn}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
	</select>

	<select id="smpForm07UserListSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm07UserListSelect
		* 샘플 목록 조회
		* @author KDS
		* @since 2020.10.26
		*/
		]]>
		SELECT    T.USER_CD
				<if test="_databaseId == 'Oracle'">
			    , '[' || D.DEPT_NM || '] ' || T.USER_NM AS USER_NM
			    </if>
				<if test="_databaseId == 'SQL Server'">
			    </if>
				<if test="_databaseId == 'MySQL'">
				, CONCAT('[', D.DEPT_NM, '] ', T.USER_NM) AS USER_NM
			    </if>
				<if test="_databaseId == 'PostgreSQL'">
			    </if>
				, T.DEPT_CD
				, D.DEPT_LEVEL
		FROM TB_SMP01 T
		LEFT OUTER JOIN DEPT_INFO D ON T.DEPT_CD = D.DEPT_CD
		WHERE 1 = 1
		<if test=" sDeptCd != null and sDeptCd != '' ">
			AND T.DEPT_CD = #{sDeptCd}
		</if>
		<if test=" sUseYn != null and sUseYn != '' ">
			AND T.USE_YN = #{sUseYn}
		</if>
		ORDER BY D.DEPT_ORDER
	</select>

	<select id="smpForm07Select" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm07Select
		* 샘플 목록 조회
		* @author KDS
		* @since 2020.10.21
		*/
		]]>
		SELECT T.USER_CD												-- 사용자코드
			, T.USER_ID													-- 사용자ID
			, T.USER_NM													-- 사용자명
			, T.USER_ENG_NM												-- 사용자영문명
			, T.USER_BIRTHDAY											-- 사용자생년월일
			, T.USER_EMAIL												-- 사용자이메일
			, T.USER_MOBILE												-- 사용자휴대폰번호
			, T.USER_TEL												-- 사용자전화번호
			, T.USER_FAX												-- 사용자FAX
			, T.POST_CD													-- 우편번호
			, T.DEPT_CD													-- 부서코드
			, D.DEPT_NM													-- 부서코드_명
			, T.USER_POSITION											-- 사용자직위
			, C4.CODE_NM AS USER_POSITION_NM								-- 사용자직위_명
			, T.USER_STATUS												-- 사용자상태
			, C1.CODE_NM AS USER_STATUS_NM								-- 사용자상태_명
			, T.DESC_TXT												-- 상세설명
			, T.USE_YN													-- 사용여부
			, C2.CODE_NM AS USE_YN_NM									-- 사용여부_명
			, T.AGREE_YN												-- 동의여부
			, C3.CODE_NM AS AGREE_YN_NM									-- 동의여부_명
			, T.LOGIN_IP												-- 접속IP
			, T.VALID_START_DATE										-- 유효시작일자
			, T.VALID_END_DATE											-- 유효종료일자
			, T.REG_CD
			, T1_1.USER_NM AS REG_NM
			, T.MOD_CD
			, T1_2.USER_NM AS MOD_NM
			<if test="_databaseId == 'Oracle'">
		    , T.USER_ADDR1 || ' ' || T.USER_ADDR2 AS USER_ADDR			-- 사용자 주소
			, TO_CHAR(T.LAST_LOGIN_DT, 'YYYY-MM-DD HH24:MI') AS LAST_LOGIN_DT	-- 최종로그인일시
			, TO_CHAR(T.PW_CHANGE_DT, 'YYYY-MM-DD HH24:MI') AS PW_CHANGE_DT		-- 비밀번호변경일시
			, T.LOGIN_DEVICE || ' ' || T.LOGIN_BROWSER AS LOGIN_BROWSER	-- 접속환경
			, TO_CHAR(TO_TIMESTAMP(T.JOIN_DATE, 'YYYYMMDD'), 'YYYY-MM-DD') AS JOIN_DATE	-- 입사일
			, TO_CHAR(T.REG_DT, 'YYYY-MM-DD HH24:MI') AS REG_DT
			, TO_CHAR(T.MOD_DT, 'YYYY-MM-DD HH24:MI') AS MOD_DT
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			, CONCAT(T.USER_ADDR1, ' ', T.USER_ADDR2) AS USER_ADDR			-- 사용자 주소
			, DATE_FORMAT(T.LAST_LOGIN_DT, '%Y-%m-%d %H:%i') AS LAST_LOGIN_DT	-- 최종로그인일시
			, DATE_FORMAT(T.PW_CHANGE_DT, '%Y-%m-%d %H:%i') AS PW_CHANGE_DT		-- 비밀번호변경일시
			, CONCAT(T.LOGIN_DEVICE, ' ', T.LOGIN_BROWSER) AS LOGIN_BROWSER	-- 접속환경
			, DATE_FORMAT(STR_TO_DATE(T.JOIN_DATE, '%Y%m%d'),'%Y-%m-%d') ASJOIN_DATE	-- 입사일
			, DATE_FORMAT(T.REG_DT, '%Y-%m-%d %H:%i') AS REG_DT
			, DATE_FORMAT(T.MOD_DT, '%Y-%m-%d %H:%i') AS MOD_DT
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		FROM TB_SMP01 T
			LEFT OUTER JOIN TB_SMP01 T1_1 ON T.REG_CD  = T1_1.USER_CD
			LEFT OUTER JOIN TB_SMP01 T1_2 ON T.MOD_CD  = T1_2.USER_CD
			LEFT OUTER JOIN CODE_INFO C1 ON C1.GROUP_ID = '00017' AND C1.CODE_ID = T.USER_STATUS
			LEFT OUTER JOIN CODE_INFO C2 ON C2.GROUP_ID = '00009' AND C2.CODE_ID = T.USE_YN
			LEFT OUTER JOIN CODE_INFO C3 ON C3.GROUP_ID = '00031' AND C3.CODE_ID = T.AGREE_YN
			LEFT OUTER JOIN CODE_INFO C4 ON C4.GROUP_ID = '00015' AND C4.CODE_ID = T.USER_POSITION
			LEFT OUTER JOIN DEPT_INFO D  ON D.DEPT_CD = T.DEPT_CD
		WHERE 1 = 1
		<if test=" sUserCd != null and sUserCd != '' ">
			AND T.USER_CD = #{sUserCd}
		</if>
		ORDER BY T.USER_CD
	</select>

	<insert id="smpForm07Insert" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm07Insert
		* 샘플 정보 입력
		* @author KDS
		* @since 2020.10.26
		*/
		]]>
		<selectKey keyProperty="USER_CD" resultType="String" order="BEFORE">
			<if test="_databaseId == 'Oracle'">
		    SELECT ('U' || LPAD(TO_NUMBER(NVL(MAX(SUBSTR(USER_CD, 2, 9)), '0') + 1), 9, '0')) AS USER_CD
			FROM TB_SMP01
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			SELECT CONCAT('U' , LPAD((COALESCE(MAX(SUBSTR(USER_CD, 2, 9)), '0') + 1), 9, '000000000')) AS USER_CD
			FROM TB_SMP01
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</selectKey>
		INSERT INTO TB_SMP01 (
			USER_CD
			, USER_ID
			, USER_NM
			, USER_PW
			, USER_BIRTHDAY
			, USER_EMAIL
			, USER_MOBILE
			, USER_TEL
			, USER_FAX
			, POST_CD
			, USER_ADDR1
			, DEPT_CD
			, USER_STATUS
			, USE_YN
			, AGREE_YN
			, LAST_LOGIN_DT
			, PW_CHANGE_DT
			, LOGIN_BROWSER
			, LOGIN_IP
			, JOIN_DATE
		)
		VALUES (
			#{USER_CD}
			, #{USER_ID}
			, #{USER_NM}
			, '123456'
			, #{USER_BIRTHDAY}
			, #{USER_EMAIL}
			, #{USER_MOBILE}
			, #{USER_TEL}
			, #{USER_FAX}
			, #{POST_CD}
			, #{USER_ADDR}
			, #{DEPT_CD}
			, #{USER_STATUS}
			, #{USE_YN}
			, #{AGREE_YN}
			, <include refid="CommonInc.sysdate" />
			, <include refid="CommonInc.sysdate" />
			, 'Chrome'
			, '0.0.0.0'
			, <include refid="CommonInc.toChar" >
				<property name="arg1" value="SYSDATE"/>
				<property name="fmt1" value="'YYYYMMDD'"/>
				<property name="fmt3" value="'%Y%m%d'"/>
			  </include>
		)
	</insert>

	<update id="smpForm07Update" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm07Update
		* 샘플 정보 수정
		* @author KDS
		* @since 2020.10.21
		*/
		]]>
		UPDATE TB_SMP01
		SET
			<if test=" USER_ID != null and USER_ID != '' ">
				  USER_ID 		= #{USER_ID}
			</if>
			<if test=" USER_NM != null and USER_NM != '' ">
				, USER_NM 		= #{USER_NM}
			</if>
			<if test=" USER_BIRTHDAY != null and USER_BIRTHDAY != '' ">
				, USER_BIRTHDAY = #{USER_BIRTHDAY}
			</if>
			<if test=" USER_EMAIL != null and USER_EMAIL != '' ">
				, USER_EMAIL 	= #{USER_EMAIL}
			</if>
			<if test=" USER_MOBILE != null and USER_MOBILE != '' ">
				, USER_MOBILE 	= #{USER_MOBILE}
			</if>
			<if test=" USER_TEL != null and USER_TEL != '' ">
				, USER_TEL 		= #{USER_TEL}
			</if>
			<if test=" USER_FAX != null and USER_FAX != '' ">
				, USER_FAX 		= #{USER_FAX}
			</if>
			<if test=" POST_CD != null and POST_CD != '' ">
				, POST_CD 		= #{POST_CD}
			</if>
			<if test=" USER_ADDR != null and USER_ADDR != '' ">
				, USER_ADDR1 	= #{USER_ADDR}
			</if>
			<if test=" DEPT_CD != null and DEPT_CD != '' ">
				, DEPT_CD 		= #{DEPT_CD}
			</if>
			<if test=" USER_STATUS != null and USER_STATUS != '' ">
				, USER_STATUS 	= #{USER_STATUS}
			</if>
			<if test=" USE_YN != null and USE_YN != '' ">
				, USE_YN 		= #{USE_YN}
			</if>
			<if test=" AGREE_YN != null and AGREE_YN != '' ">
				, AGREE_YN 		= #{AGREE_YN}
			</if>
			, MOD_CD = #{_sessionUserCd}
			, MOD_DT = <include refid="CommonInc.sysdate" />
		WHERE USER_CD = #{USER_CD}
	</update>

	<delete id="smpForm07Delete" parameterType="map" timeout="0">
		<![CDATA[
		/*
		*
		* Sample.smpForm07Delete
		* 샘플 정보 삭제 - 실제로 삭제
		* @author KDS
		* @since 2020.10.26
		*/
		]]>
		DELETE FROM TB_SMP01
		WHERE USER_CD = #{USER_CD}
	</delete>
	<!-- smpForm07 End -->

	<!-- smpPagging Start -->

	<select id="smpForm01JoinSelectCount" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm01JoinSelectCount
		* 페이징을 위한 리스트 카운트
		* @author ymko
		* @since 2020.09.09
		*/
		]]>
		SELECT COUNT(*) AS TOTAL_ROWCNT
		FROM TB_SMP01 T
			LEFT OUTER JOIN CODE_INFO C1 ON C1.GROUP_ID = '00017' AND C1.CODE_ID = T.USER_STATUS
			LEFT OUTER JOIN CODE_INFO C2 ON C2.GROUP_ID = '00009' AND C2.CODE_ID = T.USE_YN
			LEFT OUTER JOIN DEPT_INFO D ON T.DEPT_CD = D.DEPT_CD
		WHERE 1 = 1
		<if test=" sDeptCd != null and sDeptCd != '' ">
			AND T.DEPT_CD = #{sDeptCd}
		</if>
		<if test=" sUserId != null and sUserId != '' ">
			<if test="_databaseId == 'Oracle'">
		    AND T.USER_ID LIKE ('%' || #{sUserId} || '%')
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND T.USER_ID LIKE CONCAT('%', #{sUserId}, '%')
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		</if>
		<if test=" sUseYn != null and sUseYn != '' ">
			AND NVL(T.USE_YN,'N') = #{sUseYn}
		</if>
		ORDER BY T.USER_CD
	</select>

	<sql id="pagingHeaderSql">
		SELECT  T.*
  		  FROM  (SELECT  <include refid="CommonInc.rownum" /> AS RNUM, A.*
                   FROM  (
	</sql>


	<sql id="pagingFooterSql">
						 ) A) T
 	     WHERE  T.RNUM BETWEEN ( NVL(#{sRowCnt}, 10) * NVL(#{sPageNo}, 1) ) - ( NVL(#{sRowCnt},10)-1 ) AND (NVL(#{sRowCnt}, 10) * NVL (#{sPageNo}, 1))
	</sql>

	<select id="smpForm01JoinSelectPage" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForm01JoinSelectPage
		* 샘플 목록 조회 페이징 처리
		* @author ymko
		* @since 2020.09.09
		*/
		]]>

		<include refid="pagingHeaderSql"/>

			SELECT T.USER_CD
				, T.USER_ID
				, T.USER_NM
				, T.USER_BIRTHDAY
				, T.USER_EMAIL
				, T.USER_MOBILE
				, T.USER_TEL
				, T.USER_FAX
				, T.POST_CD
				, CASE WHEN D.DEPT_CD IS NULL THEN ''
	            	ELSE D.DEPT_CD END DEPT_CD              -- 부서코드
	         	, CASE WHEN D.DEPT_NM IS NULL THEN ''
	              	ELSE D.DEPT_NM END DEPT_NM              -- 부서명
				, T.USER_STATUS
				, C1.CODE_NM AS USER_STATUS_NM
				, T.USE_YN
				, C2.CODE_NM AS USE_YN_NM
				, T.AGREE_YN
				, T.LAST_LOGIN_DT
				, T.PW_CHANGE_DT
				, T.LOGIN_IP
				, T.JOIN_DATE
				, T.VALID_START_DATE
				, T.VALID_END_DATE
				<if test="_databaseId == 'Oracle'">
			    , T.USER_ADDR1 || ' ' || T.USER_ADDR2 AS USER_ADDR
				, T.LOGIN_DEVICE || ' ' || T.LOGIN_BROWSER AS LOGIN_BROWSER
			    </if>
				<if test="_databaseId == 'SQL Server'">
			    </if>
				<if test="_databaseId == 'MySQL'">
				, CONCAT(T.USER_ADDR1, ' ', T.USER_ADDR2) AS USER_ADDR
				, CONCAT(T.LOGIN_DEVICE, ' ', T.LOGIN_BROWSER) AS LOGIN_BROWSER
			    </if>
				<if test="_databaseId == 'PostgreSQL'">
			    </if>
			FROM TB_SMP01 T
				LEFT OUTER JOIN CODE_INFO C1 ON C1.GROUP_ID = '00017' AND C1.CODE_ID = T.USER_STATUS
				LEFT OUTER JOIN CODE_INFO C2 ON C2.GROUP_ID = '00009' AND C2.CODE_ID = T.USE_YN
				LEFT OUTER JOIN DEPT_INFO D ON T.DEPT_CD = D.DEPT_CD
			WHERE 1 = 1
			<if test=" sDeptCd != null and sDeptCd != '' ">
				AND T.DEPT_CD = #{sDeptCd}
			</if>
			<if test=" sUserId != null and sUserId != '' ">
				<if test="_databaseId == 'Oracle'">
			    AND T.USER_ID LIKE ('%' || #{sUserId} || '%')
			    </if>
				<if test="_databaseId == 'SQL Server'">
			    </if>
				<if test="_databaseId == 'MySQL'">
				AND T.USER_ID LIKE CONCAT('%', #{sUserId}, '%')
			    </if>
				<if test="_databaseId == 'PostgreSQL'">
			    </if>
			</if>
			<if test=" sUseYn != null and sUseYn != '' ">
				AND <include refid="CommonInc.nvl">
				     	<property name="arg1" value="T.USE_YN"/>
				     	<property name="arg2" value="'N'"/>
				     </include>  = #{sUseYn}
			</if>
			ORDER BY T.USER_CD

		<include refid="pagingFooterSql"/>

	</select>
	
	<select id="Sample.smpEtc" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.Sample.smpEtc
		* 샘플 기타 목록 조회
		* @author take
		* @since 2021.02.16
		*/
		]]>
		SELECT COUNT(*) AS ETC_COL1
			, SUM(LOGIN_FAIL_CNT) AS ETC_COL2
		FROM TB_SMP01
	</select>

	<!-- snoPagging End -->

	<!-- smpForeach sample start -->
	<select id="smpForeach" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.smpForeach
		* 샘플 목록 조회
		* @author ymko
		* @since 2020.08.25
		*/
		]]>
		SELECT USER_CD
			, USER_ID
			, USER_NM
			, USER_BIRTHDAY
			, USER_EMAIL
			, USER_MOBILE
			, USER_TEL
			, USER_FAX
			, POST_CD
			, DEPT_CD
			, USER_STATUS
			, USE_YN
			, AGREE_YN
			, LAST_LOGIN_DT
			, PW_CHANGE_DT
			, LOGIN_IP
			, JOIN_DATE
			, VALID_START_DATE
			, VALID_END_DATE
			<if test="_databaseId == 'Oracle'">
		    , USER_ADDR1 || ' ' || USER_ADDR2 AS USER_ADDR
			, LOGIN_DEVICE || ' ' || LOGIN_BROWSER AS LOGIN_BROWSER
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			, CONCAT(USER_ADDR1, ' ', USER_ADDR2) AS USER_ADDR
			, CONCAT(LOGIN_DEVICE, ' ', LOGIN_BROWSER) AS LOGIN_BROWSER
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
		FROM TB_SMP01
		WHERE 1 = 1
		<!-- foreach를 string으로 사용할 경우 -->
		<if test=" sDeptCd != null ">
			AND
			<foreach collection="sDeptCd" item="item"  open="(" close=")" separator="or"  >
				 DEPT_CD = #{item}
	 		</foreach>
		</if>
		<!-- foreach를 dataset으로 사용할 경우 -->
		<if test=" dsDept != null ">
			AND
			<foreach collection="dsDept" item="item"  open="(" close=")" separator="or"  >
				 DEPT_CD = #{item.sDeptCd}
	 		</foreach>
		</if>
		ORDER BY USER_CD
	</select>
	<!-- smpForeach sample end -->

	<!-- kakaoMap sample begin -->
	<select id="sampleMapSidoDataSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.sampleMapSidoDataSelect
		* 샘플 지도 데이터 목록 조회
		* @author takeit
		* @since 2020.07.08
		*/
		]]>

		SELECT
			A.SIDO_CODE
			, A.SIDO_NM
			, A.HOSPITAL_CNT
			, A.TOTAL_CNT
			, B.X_POSITION
			, B.Y_POSITION
			, B.ADDRESS
			, B.TEL_NO
		FROM
		(
		SELECT
			A.SIDO_CODE
			, A.SIDO_NM
			, COUNT(A.HOSPITAL_NM) AS HOSPITAL_CNT
			, SUM(A.TOTAL_CNT) AS TOTAL_CNT
		FROM MAP_TEST A
		WHERE KIND_CODE != '0'
		GROUP BY A.SIDO_CODE, A.SIDO_NM
		) A
		LEFT OUTER JOIN MAP_TEST B ON B.KIND_CODE = '0' AND A.SIDO_CODE = B.SIDO_CODE
	</select>

	<select id="sampleMapSigugunDataSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.sampleMapSigugunDataSelect
		* 샘플 지도 데이터 목록 조회
		* @author takeit
		* @since 2020.07.08
		*/
		]]>

		SELECT
			A.SIDO_CODE
			, A.SIDO_NM
			, A.SIGUNGU_CODE
			, A.SIGUNGU_NM
			, A.HOSPITAL_CNT
			, A.TOTAL_CNT
			, B.X_POSITION
			, B.Y_POSITION
			, B.ADDRESS
			, B.TEL_NO
		FROM
		(
		SELECT
			SIDO_CODE
			, SIDO_NM
			, SIGUNGU_CODE
			, SIGUNGU_NM
			, COUNT(HOSPITAL_NM) AS HOSPITAL_CNT
			, SUM(TOTAL_CNT) AS TOTAL_CNT
			, MIN(X_POSITION) AS X_POSITION
		FROM MAP_TEST
		WHERE KIND_CODE != '0'
		GROUP BY SIDO_CODE, SIDO_NM, SIGUNGU_CODE, SIGUNGU_NM
		) A
		LEFT OUTER JOIN MAP_TEST B ON A.X_POSITION = B.X_POSITION AND A.SIDO_CODE = B.SIDO_CODE

	</select>

	<select id="sampleMapDataSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
		<![CDATA[
		/*
		*
		* Sample.sampleMapDataSelect
		* 샘플 지도 데이터 목록 조회
		* @author takeit
		* @since 2020.07.08
		*/
		]]>
		SELECT HOSPITAL_NM
			,KIND_CODE
			,KIND_NM
			,SIDO_CODE
			,SIDO_NM
			,SIGUNGU_CODE
			,SIGUNGU_NM
			,UPMYUNDONG_NM
			,POST_NO
			,ADDRESS
			,TEL_NO
			,URL
			,ESTABL_DT
			,X_POSITION
			,Y_POSITION
			,TOTAL_CNT
			,COMMON_CNT
			,INTERN_CNT
			,REGI_CNT
			,MAIN_CNT
		FROM MAP_TEST
		--WHERE KIND_CODE IN ('1')
		WHERE KIND_CODE != '0'

	</select>
	<!-- kakaoMap sample end -->

	<!-- sampleComCode sample begin -->
	<select id="userSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
        <![CDATA[
        /*
         * Sample.userSelect
         * 사용자 조회
         */
        ]]>
        SELECT
          '0' AS "CHK",
          USER_CD AS CODE,
          USER_NM AS NAME,
          USER_ID,
          USER_ENG_NM, USER_PW, USER_IMG,
          USER_BIRTHDAY, LUNAR_CD, USER_EMAIL,
          USER_MOBILE, USER_TEL, USER_FAX,
          POST_CD, USER_ADDR1, USER_ADDR2,
          DEPT_CD, USER_POSITION, USER_GRADE,
          USER_STATUS, DESC_TXT, USE_YN,
          AGREE_YN, AGREE_DT, LOGIN_FAIL_CNT,
          LAST_LOGIN_DT, PW_CHANGE_DT, INIT_YN,
          LOGIN_DEVICE, LOGIN_BROWSER, LOGIN_IP,
          REG_DT, REG_CD, MOD_DT,
          MOD_CD, JOIN_DATE, MAIN_PROJECT,
          VALID_YN, VALID_START_DATE, VALID_END_DATE
        FROM USER_INFO
        WHERE USE_YN = 'Y'
        <if test="@kr.co.takeit.util.MybatisUtil@notEmpty( CODE ) ">
        	<if test="_databaseId == 'Oracle'">
		    AND (UPPER(USER_CD) LIKE '%' || UPPER(#{CODE}) || '%' OR UPPER(USER_NM) LIKE '%' || UPPER(#{CODE}) || '%')
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND (UPPER(USER_CD) LIKE CONCAT('%', UPPER(#{CODE}), '%') OR UPPER(USER_NM) LIKE CONCAT('%', UPPER(#{CODE}), '%'))
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
        </if>

    </select>

    <select id="deptSelect" parameterType="map" timeout="0" resultType="takeResultMap" useCache="false">
        <![CDATA[
        /*
         * Sample.deptSelect
         * 부서 조회
         */
        ]]>
        SELECT '0' AS "CHK",
               DEPT_CD AS CODE,
               DEPT_NM AS NAME,
               ML_CD,
               PARENT_DEPT, DEPT_LEVEL, DEPT_ORDER,
               USE_YN, REG_DT, REG_CD,
               MOD_DT, MOD_CD, DEPT_ENG_NM,
               DESC_TXT
          FROM DEPT_INFO
         WHERE USE_YN = 'Y'
         <if test="@kr.co.takeit.util.MybatisUtil@notEmpty( CODE ) ">
         	<if test="_databaseId == 'Oracle'">
		    AND (UPPER(DEPT_CD) LIKE '%' || UPPER(#{CODE}) || '%' OR UPPER(DEPT_NM) LIKE '%' || UPPER(#{CODE}) || '%')
		    </if>
			<if test="_databaseId == 'SQL Server'">
		    </if>
			<if test="_databaseId == 'MySQL'">
			AND (UPPER(DEPT_CD) LIKE CONCAT('%', UPPER(#{CODE}), '%') OR UPPER(DEPT_NM) LIKE CONCAT('%', UPPER(#{CODE}), '%'))
		    </if>
			<if test="_databaseId == 'PostgreSQL'">
		    </if>
         </if>

    </select>
	<!-- sampleComCode sample end -->

</mapper>